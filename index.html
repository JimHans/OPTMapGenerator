<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<html>
<head>
    <link rel="stylesheet" href="winui3.css" type="text/css" /> <!--外挂Winui3样式表(设置界面)-->
    <meta charset="UTF-8">
    <title>地图生成器</title>
    <script>  //重定向NodeRequire以引入JQuery
        window.nodeRequire = require;
        delete window.require;
        delete window.exports;
        delete window.module;
    </script> 
    <!-- 引用jsdeliver jquery -->
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>

</head>


<body style="overflow: hidden;">
    <div class="WindowTitleBar"> <!--*标题栏-->
        <img src="./assets/app.png" width="20" height="20" style="position: absolute;line-height: 26px;margin: 4px 0px 0px 5px;left:5px;">
        <a id="Title" style="height: 30px;line-height: 30px;position:absolute;left:25%;right:25%;text-align: center;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;letter-spacing: 0.1em;font-size:13px">第11届全国大学生光电设计竞赛藏宝图生成器</a>
    </div>

    <div class="SettingsPage" style="width:100%;display:block;background: url('./assets/background.jpg') no-repeat;background-size: cover;"> <!--*用户页 -->
        <div  class="Winui3setpageINNER" style="backdrop-filter: blur(50px);">

            <div class="Winui3brickContainer" style="margin-top: 20px;">
                <svg t="1682142113350" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2640" width="18" height="20" style="margin-right: 10px;margin-left:5px;">
                    <path d="M102.7 324C205.8 374.5 309.1 424.6 412 475.7c32.1 15.9 64.5 27.9 92.5 26.7 35.6-0.2 62.8-5.1 89-18 109.4-53.8 219-107.2 328.6-160.8 10.1-5 20.3-9.8 28.4-18.8 12.9-14.2 12.7-30.1-0.5-43.9-6.7-7-14.6-11.9-22.9-15.9-100.8-49.2-201.6-98.3-302.2-147.8-32.3-15.9-64.2-32-100.3-32.9-30.5-0.8-60.5 1.6-88.9 15.4C322.7 134.5 210 189.8 97.3 244.9c-8.9 4.3-17.3 9.5-24.2 17.2-12 13.5-11.9 28.1-0.1 41.8C81.3 313.6 92 318.7 102.7 324z" p-id="2641" fill="#ffffff"></path>
                    <path d="M930.7 476c-21.8-10.7-43.4-21.9-65.4-31.9-16.8-7.6-34.4-7.2-51.1 0.9-53.8 26-107.5 52.3-161.1 78.8-39.4 19.5-78.5 39-122.6 41.1-40 1.9-79.1-2.2-116.1-20.1-68.2-32.8-136.2-66.4-204.3-99.5-17.7-8.6-35.9-8.5-53.5-0.6-20.2 9.1-39.9 19.4-59.8 29.2-8.8 4.4-17.3 9.4-24.2 17.3-11.7 13.6-11.6 28.4 0.4 41.8 7.8 8.8 17.6 13.8 27.5 18.7 101.5 49.7 203.1 99.1 304.5 149.4 34.4 17 68.9 31.7 107.2 30.1 27.1-0.6 53.7-4.6 79-16.9 112.1-54.9 224.3-109.7 336.5-164.6 8-3.9 15.7-8.6 22.2-15.5 13.3-14 13.4-29.6 0.5-43.9C944.7 484.1 938 479.6 930.7 476z" p-id="2642" fill="#ffffff"></path>
                    <path d="M929.3 704.1c-19.3-9.6-38.8-19-58.2-28.5-20-9.8-39.8-10-59.9-0.1-55 27-110.4 53.1-165.1 80.8-39.8 20.2-79.9 37.3-124.2 38.1-38.2 0.7-75.3-4.6-110.7-21.9-66.7-32.6-133.5-65.3-200.2-97.8-18.5-9-37.3-9-55.9-0.2-20.5 9.8-41 20-61.4 30.1-8.3 4.1-16 9.3-22.2 17.1-9.7 12.1-10.1 24.7-0.9 37.4 6.9 9.4 16.1 15.1 25.8 19.8 105 51.4 210.1 102.4 314.9 154.2 31.8 15.7 63.8 28.1 99 27.1 29.5-0.3 58-5.6 85.5-19.1 110.4-54.4 221.1-108.1 331.7-162.2 9.9-4.8 19.4-10.7 26.3-20.6 8.5-12.2 8-24.1-1-35.9C946.4 713.9 938.1 708.4 929.3 704.1z" p-id="2643" fill="#ffffff"></path></svg>
                随机生成藏宝图<button type="button" value="生成"  class="Winui3button" style="width:120px" onclick="MapGenerate();">生成藏宝图</button>
                </div>
            
            <div class="Winui3brickContainer" style="height:auto;display:flex;justify-content: center;">
                <p class="Winui3brickRightText" style='left: 20px;top: 0px;text-align: left;'>生成结果（摆放图与藏宝图）</p>
                <p class="Winui3brickRightText" style='right: 20px;top: 0px;font-size: 12px;'>Source: MapGen Engine 2</p>
                <div id="MapGenerate" style="width: 40%;aspect-ratio: 1; margin-top: 45px;border-radius:8px;margin-right:10px;"><canvas id="MapCanvas" style="height:100%;width: 100%;border-radius:8px;"></canvas></div>
                <div id="MapGenerateGray" style="width: 40%;aspect-ratio: 1; margin-top: 45px;border-radius:8px;margin-left:10px;"><canvas id="MapCanvasGray" style="height:100%;width: 100%;border-radius:8px;"></canvas></div>
            </div>

            <div class="Winui3brickContainer" style="height: 60px;">
                <svg class="icon" width="25" height="25" style="margin-right: 10px;margin-left:5px;"viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1458">
                    <path d="M708.388571 121.904762L902.095238 320.804571V828.952381a73.142857 73.142857 0 0 1-73.142857 73.142857H195.047619a73.142857 73.142857 0 0 1-73.142857-73.142857V195.047619a73.142857 73.142857 0 0 1 73.142857-73.142857h513.340952zM292.571429 195.023238L195.047619 195.047619v633.904762l97.52381-0.024381V536.380952h438.857142v292.547048L828.952381 828.952381V350.549333l-97.52381-100.156952V365.714286H292.571429V195.023238zM658.285714 609.52381H365.714286v219.40419h292.571428V609.52381z m-48.761904 73.142857v73.142857h-195.04762v-73.142857h195.04762z m48.761904-487.619048H365.714286v97.52381h292.571428V195.047619z" p-id="1459" fill="#fff"></path></svg>
                <div>保存结果<br><a class="Winui3brickSubtitle" style="font-size: 13px;color: #999999;">保存藏宝图文件到本地</a></div>
            <button type="button" value="打印"  class="Winui3button" style="width:120px" onclick="MapSave();">保存</button>
            </div>

            <div class="Winui3brickContainer" style="height: 60px;">
                <svg class="icon" width="25" height="25" style="margin-right: 10px;margin-left:5px;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1252">
                <path d="M389.12 389.12h-81.92v-163.84c0-46.55104 40.42752-81.92 87.77728-81.92h234.04544C676.37248 143.36 716.8 178.72896 716.8 225.28v163.84h-81.92v-163.84c0 1.31072-1.49504 0-5.85728 0H394.97728c-4.36224 0-5.85728 1.31072-5.85728 0v163.84z" fill="#fff" p-id="1253"></path>
                <path d="M123.00288 623.14496C122.92096 621.34272 122.88 584.6016 122.88 402.78016 122.88 350.80192 162.59072 307.2 213.58592 307.2H810.3936C861.40928 307.2 901.12 350.80192 901.12 402.78016v218.43968C901.12 673.19808 861.40928 716.8 810.41408 716.8h-65.6384v-81.92h65.6384c3.95264 0 8.78592-5.30432 8.78592-13.66016V402.78016c0-8.35584-4.83328-13.66016-8.78592-13.66016H213.6064c-3.95264 0-8.78592 5.30432-8.78592 13.63968l0.02048 216.39168c0.512 10.52672 5.18144 15.872 6.3488 15.79008L213.6064 634.88h62.83264v81.92h-61.8496c-51.01568 2.17088-89.04704-41.94304-91.56608-93.65504z" fill="#fff" p-id="1254"></path>
                <path d="M348.16 552.96v245.76h327.68V552.96H348.16z m0-81.92h327.68a81.92 81.92 0 0 1 81.92 81.92v245.76a81.92 81.92 0 0 1-81.92 81.92H348.16a81.92 81.92 0 0 1-81.92-81.92V552.96a81.92 81.92 0 0 1 81.92-81.92z" fill="#fff" p-id="1255"></path></svg>
                <div>打印结果<br><a class="Winui3brickSubtitle" style="font-size: 13px;color: #999999;">调用Windows打印服务打印藏宝图</a></div>
            <button type="button" value="打印"  class="Winui3button" style="width:120px" onclick="MapPrint();">打印</button>
            </div>

            <div class="Winui3brickContainer" style="background-color: rgb(43, 79, 108);height:auto">
                <svg t="1669908006524" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1391"  width="25" height="25"><path d="M510.032 93.09c-229.9 0-416.94 187.924-416.94 418.91 0 230.986 187.92 418.91 418.908 418.91 230.986 0 418.91-187.924 418.91-418.91 0-230.986-188.804-418.91-420.88-418.91z" fill="#5fb5fc" p-id="1392" ></path><path d="M558.546 723.78h-93.092v-93.09h93.092zM558.546 539.928h-93.092V302.546h93.092z" fill="#000" p-id="1393" ></path></svg>
                <p style="margin-left:13px;font-size: 15px;font-weight: nomal;width: 90%;line-height: 1.5;">使用指南：点击“生成藏宝图”，程序即可生成根据参考地图模板图像按照比赛要求生成包含宝藏位置信息的<b>彩底黑点的识别用图和彩底红/蓝描边，黄/绿填充点的摆放用图</b>各一张。生成后可选择打印或保存至本地。</p>
            </div>

            <div class="Winui3brickContainer" style="height:70px"><img src="./assets/app.png" width="20" height="20" style="margin-right: 10px;margin-left:5px;">
                <div><div style="margin-bottom: 5px;">关于本软件</div><a class="Winui3brickSubtitle" style="font-size: 13px;margin-top: 5px;">本软件由电子科技大学应用电子科技协会研发，用于辅助西南赛区比赛藏宝图的生成筹备工作。现已支持国赛规则藏宝图生成。Background PixivID:100941489</a></div></div>
            <div class="Winui3brickContainer">Designed By<span class="Winui3brickRightText">JimHan @ AEA,UESTC</span></div>
            <div class="Winui3brickContainer">本项目基于GPL-3.0 license开放源代码<button type="button" value="仓库地址"  class="Winui3button" style="width:120px" onclick="shell.openExternal('https://github.com/JimHans/OPTMapGenerator');">了解更多</button></div>
            <div class="Winui3brickContainer">当前版本<p id="App-version" class="Winui3brickRightText"></p></div>
            <div class="Winui3brickContainer">Build Version<p id="Build-version" class="Winui3brickRightText"></p></div>
            <div class="Winui3brickContainer">Electron 框架版本<span id="electron-version" class="Winui3brickRightText"></span></div>
            <div class="Winui3brickContainer">Node.js 版本<span id="node-version" class="Winui3brickRightText"></span></div>
        </div>
    </div>
    <!--  *成功、失败横幅提示  -->
    <div id="OKStreamer" class="SystemStreamer"></div>
    <div id="MessageStreamer" class="SystemStreamer" style="background-color:#ffffff9a;color:black"></div>
    <div id="ErrorStreamer" class="SystemStreamer" style="background-color:#a4414f;"></div>
</body>

<!-- 软件全局渲染器 -->
<script src="./renderer.js"></script>

</html>